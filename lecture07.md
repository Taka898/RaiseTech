# 第7回課題

## 前回までの課題で作った環境は、どんな攻撃にたいして「脆弱」か？どのような対策が取れるか？考える
### 今回の講座で学んだリスクの要因別に整理する
1. 脆弱性
    1. アプリケーション
        |対策|説明|適用状況|
        |:--|:--|:--|
        |Dependabot|モジュール、ライブラリの更新を指摘してくれる|適用済み<br>（サンプルアプリケーションを管理しているGitHub）|
        |CodeGuru Reviewer|Amazon CodeGuruの機能のひとつ<br>コードをスキャンし、改善を提案してくれる<br>（Dependabotはモジュールの提案以外してくれない）|適用を検討|
        |AWS WAF|AWSが提供するWAFサービス<br>AWSが提供するルールグループでOWASP Top 10をサポートできる|適用を検討|
        |ACM|SSL証明書を発行するマネージドサービス<br>通信を暗号化（HTTPS通信）し、のぞき見を防ぐことが可能<br>ドメインの取得が必要|適用を検討|
    2. OS、ミドルウェア
        |対策|説明|適用状況|
        |:--|:--|:--|
        |Inspector|AWSが提供する脆弱性のスキャンを行うサービス<br>EC2とECRのスキャンに対応<br>SSM Patch Managerと併せて検討しても良い|適用を検討|
    3. ネットワーク、その他
        |対策|説明|適用状況|
        |:--|:--|:--|
        |Security Hub|AWSの設定情報を検索して、脆弱な部分を指摘してくれる<br>他のAWSセキュリティ関連サービス結果を集約できる|適用を検討|
2. 認証情報の流出
    1. IAM
        |対策|説明|適用状況|
        |:--|:--|:--|
        |MFA|IAMユーザーの多要素認証|適用済み|
        |ロール|ロールを中心とした権限とする|適用を検討<br>（S3へのアクセスをアクセスキーからロールへ変更）|
    2. アプリケーション
        |対策|説明|適用状況|
        |:--|:--|:--|
        |KMS|AWSが提供する暗号鍵マネージドサービス|適用を検討<br>（S3の暗号化をKMSに変更）|
        |Secrets Manager|AWSが提供する秘匿情報をKMSで暗号化して安全に保管呼び出しするサービス|適用を検討<br>（RDSのパスワードを管理する。定期変更も可能）|
3. 人為的な過負荷
    |対策|説明|適用状況|
    |:--|:--|:--|
    |Shield|AWSが提供するDDoS攻撃からインフラを保護してくれるマネージドサービス|適用済み（Standard）|

## 今回の課題から学んだことを報告する
- セキュリティ対策は「ここまでやれば大丈夫」といった基準が明確にあるわけではないのが難しい
- 現場ではリスクや対策を関係者間で合意することが大事だと感じた
- セキュリティに対する感度を上げるために、OWASP Top 10などに目を通し理解を深める